<div class="editable">
  <div #editableDiv class="main" contenteditable="true">
    <ng-container *ngFor="let line of data; let lineIndex = index">
      <div>
        <ng-container *ngFor="let item of line; let itemIndex = index">
          <span
            (click)="setCursorIndex(lineIndex, itemIndex)"
            *ngIf="item.type === 'text'; else chip"
          >
            {{ item.value }}
          </span>
          <ng-template #chip>
            <mat-chip contenteditable="false">
              {{ item.value }}
              <mat-icon matChipRemove> cancel</mat-icon>
            </mat-chip></ng-template
          >
        </ng-container>
      </div>
    </ng-container>
  </div>
</div>

<mat-menu #menu="matMenu">
  <button
    mat-menu-item
    *ngFor="let option of variableData"
    (click)="onOptionSelect(option.name)"
  >
    {{ option.name }}
  </button>
</mat-menu>

<span>Value: {{ value }}</span>
<br />
<span>Data: {{ data | json }}</span>
<br />
<span>Cursor: {{ cursorIndex }}</span>
<br />

<button mat-raised-button [matMenuTriggerFor]="menu">Add variable</button>

<mat-chip-list> </mat-chip-list>
